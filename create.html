<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø­Ø¨</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet">

<style>
body{
font-family:Tajawal;
background:linear-gradient(180deg,#14030a,#070203);
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
margin:0;
}

.box{
width:380px;
background:rgba(255,255,255,0.05);
padding:25px;
border-radius:18px;
backdrop-filter:blur(10px);
box-shadow:0 0 40px rgba(255,0,80,0.15);
}

h2{
text-align:center;
margin-bottom:20px;
color:#ff8fb1;
}

input,textarea{
width:100%;
padding:12px;
margin-bottom:12px;
border-radius:10px;
border:none;
background:#1a0a10;
color:white;
font-family:Tajawal;
}

textarea{height:80px;}

button{
width:100%;
padding:13px;
border:none;
border-radius:12px;
background:linear-gradient(135deg,#ff2d55,#ff6f91);
color:white;
font-size:16px;
cursor:pointer;
margin-top:8px;
}

button:hover{opacity:.9}

.result{
margin-top:18px;
text-align:center;
}

.linkbox{
background:#111;
padding:10px;
border-radius:10px;
margin-bottom:10px;
font-size:13px;
word-break:break-all;
}
</style>
</head>
<body>

<div class="box">

<h2>ğŸ’ Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø­Ø¨</h2>

<input id="sender" placeholder="Ø§Ø³Ù…Ùƒ">
<input id="receiver" placeholder="Ø§Ø³Ù… Ø§Ù„Ø­Ø¨ÙŠØ¨Ø©">
<input id="pass" placeholder="ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
<textarea id="msg" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ"></textarea>

<button onclick="createAlbum()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ù„Ø¨ÙˆÙ…</button>

<div id="done" class="result"></div>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<script>
const firebaseConfig = {
apiKey: "AIzaSyAEpVTV2bAzIal7FkEl3JadPvn0fkqpAF4",
authDomain: "love-site-e2cb7.firebaseapp.com",
databaseURL: "https://love-site-e2cb7-default-rtdb.europe-west1.firebasedatabase.app",
projectId: "love-site-e2cb7",
storageBucket: "love-site-e2cb7.appspot.com",
messagingSenderId: "861816430901",
appId: "1:861816430901:web:144adb8ebbc2ad966d6c7c"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

function randomCode(){
return "love"+Math.random().toString(36).substring(2,8);
}

function createAlbum(){

const sender = document.getElementById("sender").value.trim();
const receiver = document.getElementById("receiver").value.trim();
const pass = document.getElementById("pass").value.trim();
const msg = document.getElementById("msg").value.trim();

if(!sender || !receiver){
alert("Ø§ÙƒØªØ¨ Ø§Ù„Ø§Ø³Ù…Ø§Ø¡");
return;
}

const code = randomCode();

db.ref("albums/"+code).set({
password:pass,
senderName:sender,
recipientName:receiver,
sections:[
{
id:"s1",
type:"message",
order:1,
data:{
title:"Ø±Ø³Ø§Ù„Ø© Ø­Ø¨",
text:msg || "Ø¨Ø­Ø¨Ùƒ â¤ï¸"
}
}
]
}).then(()=>{

const link = "https://karimelwakil.github.io/romantic-love/?id="+code;

document.getElementById("done").innerHTML = `
<div class="linkbox">${link}</div>

<button onclick="copyLink('${link}')">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·</button>
<button onclick="openLink('${link}')">ğŸš€ ÙØªØ­ Ø§Ù„Ø¢Ù†</button>
`;

});

}

function copyLink(link){
navigator.clipboard.writeText(link);
alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·");
}

function openLink(link){
window.open(link,"_blank");
}
</script>

</body>
</html>
